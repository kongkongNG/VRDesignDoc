<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VR Sketch Design: Y:/Coding/Unity/VRDesignProject/Assets/Scripts/Control/SGModel.cs 源文件</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VR Sketch Design
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">VR Project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','搜索');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b93ca4f67e5c4f3d8967bcc66a8efe61.html">Y:</a></li><li class="navelem"><a class="el" href="dir_657949dcc09204b591ba08b2dd60005a.html">Coding</a></li><li class="navelem"><a class="el" href="dir_9e3bf1a2f1e8bb1f1076cb3a500c0924.html">Unity</a></li><li class="navelem"><a class="el" href="dir_d92c12ce3d70d23921038a5d2ecff28d.html">VRDesignProject</a></li><li class="navelem"><a class="el" href="dir_bbf63476caace77856cc7cbaedc98ba5.html">Assets</a></li><li class="navelem"><a class="el" href="dir_a6ab9145be13875259d1d9e44e1e8835.html">Scripts</a></li><li class="navelem"><a class="el" href="dir_278302981ccdedd8a25e4ab094a830f6.html">Control</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SGModel.cs</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_s_g_model_8cs.html">浏览该文件的文档.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">using</span> System.Collections;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> System.Collections.Generic;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">using</span> UnityEngine;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">using</span> System;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">using</span> System.Runtime.InteropServices;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">using</span> VRTK;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">using</span> VRTK.GrabAttachMechanics;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="class_s_g_model.html">   12</a></span>&#160;<span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="class_s_g_model.html">SGModel</a> : MonoBehaviour</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;{</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">    #region DLLIMPORT</span></div>
<div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a6b5890bdbb54b02f9d20176e2cfac610">   15</a></span>&#160;    [DllImport(<span class="stringliteral">&quot;sgCoreUnity&quot;</span>)] <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="class_s_g_model.html#a6b5890bdbb54b02f9d20176e2cfac610">sguGetMeshAreaCount</a>(IntPtr objPtr);</div>
<div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="class_s_g_model.html#ab490f88e0a99e2155fe0331b4a52a387">   16</a></span>&#160;    [DllImport(<span class="stringliteral">&quot;sgCoreUnity&quot;</span>)] <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="class_s_g_model.html#ab490f88e0a99e2155fe0331b4a52a387">sguGetAreaVertexCount</a>(IntPtr objPtr, <span class="keywordtype">int</span> area_id);</div>
<div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a0f7178f2f9f0410b40ba18f2c0b4a2cd">   17</a></span>&#160;    [DllImport(<span class="stringliteral">&quot;sgCoreUnity&quot;</span>)] <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">extern</span> IntPtr <a class="code" href="class_s_g_model.html#a0f7178f2f9f0410b40ba18f2c0b4a2cd">sguGetAreaVertexes</a>(IntPtr objPtr, <span class="keywordtype">int</span> area_id);</div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="class_s_g_model.html#aaa49ec0fbd1e661ccc21599b5294c003">   18</a></span>&#160;    [DllImport(<span class="stringliteral">&quot;sgCoreUnity&quot;</span>)] <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">extern</span> IntPtr <a class="code" href="class_s_g_model.html#aaa49ec0fbd1e661ccc21599b5294c003">sguGetAreaNormals</a>(IntPtr objPtr, <span class="keywordtype">int</span> area_id);</div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a439f56b890255a9641758b3cf8a8c6e7">   19</a></span>&#160;    [DllImport(<span class="stringliteral">&quot;sgCoreUnity&quot;</span>)] <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">extern</span> IntPtr <a class="code" href="class_s_g_model.html#a439f56b890255a9641758b3cf8a8c6e7">sguGetAreaPlaneNormal</a>(IntPtr objPtr, <span class="keywordtype">int</span> area_id);</div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a5e0faf8bacf280c25a02d3d5bdaa4ae4">   20</a></span>&#160;    [DllImport(<span class="stringliteral">&quot;sgCoreUnity&quot;</span>)] <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">extern</span> IntPtr <a class="code" href="class_s_g_model.html#a5e0faf8bacf280c25a02d3d5bdaa4ae4">sguGetAreaUVs</a>(IntPtr objPtr, <span class="keywordtype">int</span> area_id);</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a1b121c44eaa95fed659355b5fb31469b">   22</a></span>&#160;    [DllImport(<span class="stringliteral">&quot;sgCoreUnity&quot;</span>)] <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="class_s_g_model.html#a1b121c44eaa95fed659355b5fb31469b">sguGetMeshEdgeCount</a>(IntPtr objPtr);</div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a9772af8964a1f8013f345a75008372d3">   23</a></span>&#160;    [DllImport(<span class="stringliteral">&quot;sgCoreUnity&quot;</span>)] <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">extern</span> IntPtr <a class="code" href="class_s_g_model.html#a9772af8964a1f8013f345a75008372d3">sguGetEdgeVertexes</a>(IntPtr objPtr, <span class="keywordtype">int</span> edge_id);</div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="class_s_g_model.html#ab34f08f5b565b36f0798ebb1c062cf07">   24</a></span>&#160;    [DllImport(<span class="stringliteral">&quot;sgCoreUnity&quot;</span>)] <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">extern</span> IntPtr <a class="code" href="class_s_g_model.html#ab34f08f5b565b36f0798ebb1c062cf07">sguGetEdgeMaxRadius</a>(IntPtr objPtr, <span class="keywordtype">int</span> edge_id);</div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a9177d97615b955b278dca48606bc3a71">   25</a></span>&#160;    [DllImport(<span class="stringliteral">&quot;sgCoreUnity&quot;</span>)] <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="class_s_g_model.html#a9177d97615b955b278dca48606bc3a71">sguGetEdgeRegionMarkA</a>(IntPtr objPtr, <span class="keywordtype">int</span> edge_id);</div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="class_s_g_model.html#ae14a7b14c2844a4343b9821f86fd0704">   26</a></span>&#160;    [DllImport(<span class="stringliteral">&quot;sgCoreUnity&quot;</span>)] <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="class_s_g_model.html#ae14a7b14c2844a4343b9821f86fd0704">sguGetEdgeRegionMarkB</a>(IntPtr objPtr, <span class="keywordtype">int</span> edge_id);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="class_s_g_model.html#ad9c224ddcd0c2bbc8676d3caa3a67e59">   28</a></span>&#160;    [DllImport(<span class="stringliteral">&quot;sgCoreUnity&quot;</span>)] <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">extern</span> IntPtr <a class="code" href="class_s_g_model.html#ad9c224ddcd0c2bbc8676d3caa3a67e59">sguGetMeshMatrix</a>(IntPtr objPtr);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a6deb74ab107c3455cff8d08c6ac22714">   30</a></span>&#160;    [DllImport(<span class="stringliteral">&quot;sgCoreUnity&quot;</span>)] <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">extern</span> IntPtr <a class="code" href="class_s_g_model.html#a6deb74ab107c3455cff8d08c6ac22714">sguGetSolidModel</a>(IntPtr objPtr);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a4af667d1987ec93968887932e3e82403">   32</a></span>&#160;    [DllImport(<span class="stringliteral">&quot;sgCoreUnity&quot;</span>)] <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="class_s_g_model.html#a4af667d1987ec93968887932e3e82403">sgGetObjectTrianglesCount</a>(IntPtr objPtr);</div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="class_s_g_model.html#af3e92ce70e1d2c6fb7e068f86df8636f">   33</a></span>&#160;    [DllImport(<span class="stringliteral">&quot;sgCoreUnity&quot;</span>)] <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">extern</span> IntPtr <a class="code" href="class_s_g_model.html#af3e92ce70e1d2c6fb7e068f86df8636f">sgGetObjectMatrix</a>(IntPtr objPtr);</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="class_s_g_model.html#aecefb0b61a3bedb496f7734df203396b">   34</a></span>&#160;    [DllImport(<span class="stringliteral">&quot;sgCoreUnity&quot;</span>)] <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">extern</span> IntPtr <a class="code" href="class_s_g_model.html#aecefb0b61a3bedb496f7734df203396b">sgGetObjectVertexes</a>(IntPtr objPtr);</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="class_s_g_model.html#af3facf26d447eec8fca2be6c6e1bfebd">   35</a></span>&#160;    [DllImport(<span class="stringliteral">&quot;sgCoreUnity&quot;</span>)] <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">extern</span> IntPtr <a class="code" href="class_s_g_model.html#af3facf26d447eec8fca2be6c6e1bfebd">sgGetObjectNormals</a>(IntPtr objPtr);</div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="class_s_g_model.html#ad838e6b15c572ccf8e3e21c8f6e5129b">   36</a></span>&#160;    [DllImport(<span class="stringliteral">&quot;sgCoreUnity&quot;</span>)] <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">extern</span> IntPtr <a class="code" href="class_s_g_model.html#ad838e6b15c572ccf8e3e21c8f6e5129b">sgGetObjectUVs</a>(IntPtr objPtr);</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a7a3cc5c00cf0731ea552f132966c439b">   37</a></span>&#160;    [DllImport(<span class="stringliteral">&quot;sgCoreUnity&quot;</span>)] <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="class_s_g_model.html#a7a3cc5c00cf0731ea552f132966c439b">sgGetObjectMaterialIndex</a>(IntPtr objPtr);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">    #endregion</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">    #region STRUCTS</span></div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="struct_s_g_model_1_1vec2i.html">   41</a></span>&#160;    <span class="keyword">protected</span> <span class="keyword">struct </span><a class="code" href="struct_s_g_model_1_1vec2i.html">vec2i</a></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    {</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="struct_s_g_model_1_1vec2i.html#abd5df4792176e45d7b66838b655ad914">   43</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">int</span> <a class="code" href="struct_s_g_model_1_1vec2i.html#abd5df4792176e45d7b66838b655ad914">x</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="struct_s_g_model_1_1vec2i.html#a0390d10608b805356aa4468efe53cb3b">   44</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">int</span> <a class="code" href="struct_s_g_model_1_1vec2i.html#a0390d10608b805356aa4468efe53cb3b">y</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    }</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="struct_s_g_model_1_1vec3d.html">   47</a></span>&#160;    <span class="keyword">protected</span> <span class="keyword">struct </span><a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    {</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="struct_s_g_model_1_1vec3d.html#a6c09077bd4936ca71ad02b33d8903edf">   49</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">double</span> <a class="code" href="struct_s_g_model_1_1vec3d.html#a6c09077bd4936ca71ad02b33d8903edf">x</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="struct_s_g_model_1_1vec3d.html#ab7db77939c9847df8752718938eb23f7">   50</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">double</span> <a class="code" href="struct_s_g_model_1_1vec3d.html#ab7db77939c9847df8752718938eb23f7">y</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="struct_s_g_model_1_1vec3d.html#a0b8c550ce99efedcbe10df01e97d3962">   51</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">double</span> <a class="code" href="struct_s_g_model_1_1vec3d.html#a0b8c550ce99efedcbe10df01e97d3962">z</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="struct_s_g_model_1_1vec2d.html">   54</a></span>&#160;    <span class="keyword">protected</span> <span class="keyword">struct </span><a class="code" href="struct_s_g_model_1_1vec2d.html">vec2d</a></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    {</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="struct_s_g_model_1_1vec2d.html#a2e58a01471acbf802e93ff848d259822">   56</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">double</span> <a class="code" href="struct_s_g_model_1_1vec2d.html#a2e58a01471acbf802e93ff848d259822">x</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="struct_s_g_model_1_1vec2d.html#ae3a6be9c6e1e9cc1f8fd282a9bd95445">   57</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">double</span> <a class="code" href="struct_s_g_model_1_1vec2d.html#ae3a6be9c6e1e9cc1f8fd282a9bd95445">y</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="struct_s_g_model_1_1vec1d.html">   60</a></span>&#160;    <span class="keyword">protected</span> <span class="keyword">struct </span><a class="code" href="struct_s_g_model_1_1vec1d.html">vec1d</a></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    {</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="struct_s_g_model_1_1vec1d.html#ae53c511ef8f895d46d04cc8855ea2d26">   62</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">double</span> <a class="code" href="struct_s_g_model_1_1vec1d.html#ae53c511ef8f895d46d04cc8855ea2d26">x</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="struct_s_g_model_1_1matr.html">   65</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">struct </span><a class="code" href="struct_s_g_model_1_1matr.html">matr</a></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    {</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="struct_s_g_model_1_1matr.html#ac538c33596d9542af7813bfe2c590279">   67</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">double</span> <a class="code" href="struct_s_g_model_1_1matr.html#ac538c33596d9542af7813bfe2c590279">m11</a>, <a class="code" href="struct_s_g_model_1_1matr.html#a9305c4f9cd048190f9aaf884e47e9ac4">m12</a>, <a class="code" href="struct_s_g_model_1_1matr.html#a3599b57bfc8760d093f2338b6b9a188e">m13</a>, <a class="code" href="struct_s_g_model_1_1matr.html#a3c69625b3c9a126f7b906b60e6b56044">m14</a>, <a class="code" href="struct_s_g_model_1_1matr.html#a8b9780d2c7cb62b7ec2b3a1acfb707bc">m21</a>, <a class="code" href="struct_s_g_model_1_1matr.html#a8b3a7bf83a87bd9f33f78e8731d77999">m22</a>, <a class="code" href="struct_s_g_model_1_1matr.html#af1222c3ad50f4e55d4be61eeb7a072c7">m23</a>, <a class="code" href="struct_s_g_model_1_1matr.html#ad8b3e0a4ba121cd2fc42a6fa21b7d47d">m24</a>, <a class="code" href="struct_s_g_model_1_1matr.html#ab280c10e55d268cedc13d1787ae7d619">m31</a>, <a class="code" href="struct_s_g_model_1_1matr.html#ace5ae44f426004933786ba2921ad0db2">m32</a>, <a class="code" href="struct_s_g_model_1_1matr.html#a3609cb41af7d9a9e5e29bedf4e7157a0">m33</a>, <a class="code" href="struct_s_g_model_1_1matr.html#af931f734fafe3ad438a3eb3f0288659a">m34</a>, <a class="code" href="struct_s_g_model_1_1matr.html#a72f340b99dab79d11ba99250df9645db">m41</a>, <a class="code" href="struct_s_g_model_1_1matr.html#a1cd6c9e1300a4461be2511a3328b573f">m42</a>, <a class="code" href="struct_s_g_model_1_1matr.html#a7a3e0a2aabd3c3979ffcc4af1d72d6fd">m43</a>, <a class="code" href="struct_s_g_model_1_1matr.html#a6376a7bc131a65833d63487128270c99">m44</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">    #endregion</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">   71</a></span>&#160;    <span class="keyword">public</span> IntPtr <a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a>;          </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="class_s_g_model.html#ae9612d0d47516172c6b5eb998de60e7b">   72</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">int</span> <a class="code" href="class_s_g_model.html#ae9612d0d47516172c6b5eb998de60e7b">sg_height</a>;              </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">   74</a></span>&#160;    <span class="keyword">public</span> GameObject <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>;     </div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a2dc4ee477d0453bba2e0fc863463fd9b">   75</a></span>&#160;    <span class="keyword">public</span> GameObject <a class="code" href="class_s_g_model.html#a2dc4ee477d0453bba2e0fc863463fd9b">edgeRootObj</a>;   </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="class_s_g_model.html#aae85526dc3957837f1bdab39d7aca6c7">   77</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">string</span> <a class="code" href="class_s_g_model.html#aae85526dc3957837f1bdab39d7aca6c7">AreaRootName</a> = <span class="stringliteral">&quot;AreaRoot&quot;</span>;     </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a55db5cd5a783fe00d68627ff50b961b2">   78</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">string</span> <a class="code" href="class_s_g_model.html#a55db5cd5a783fe00d68627ff50b961b2">EdgeRootName</a> = <span class="stringliteral">&quot;EdgeRoot&quot;</span>;     </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment">//public static string GrabPivotName = &quot;GrabPivot&quot;; </span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="class_s_g_model.html#ab5867cf2e50e604c2d379f21a37906ff">   81</a></span>&#160;    <span class="keyword">public</span> readonly <span class="keyword">static</span> Color <a class="code" href="class_s_g_model.html#ab5867cf2e50e604c2d379f21a37906ff">TouchedColor</a> = <span class="keyword">new</span> Color32(64, 255, 255, 255);     </div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="class_s_g_model.html#aeb9e6d8641bb3847b30b56a77597a8e7">   82</a></span>&#160;    <span class="keyword">public</span> readonly <span class="keyword">static</span> Color <a class="code" href="class_s_g_model.html#aeb9e6d8641bb3847b30b56a77597a8e7">SelectedColor</a> = Color.yellow;      </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a53900aacb3ae6593fda22e872667cdc3">   83</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="class_s_g_model.html#a53900aacb3ae6593fda22e872667cdc3">isModelSelectedNow</a> = <span class="keyword">false</span>;     </div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a4cf1e26b13a1371c80262522711312de">   84</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="class_s_g_model.html#a4cf1e26b13a1371c80262522711312de">hasFinishPostCreation</a>;      </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a715a851f52ef1ef868d3bcf67b2d4a78">   86</a></span>&#160;    <span class="keyword">public</span> Vector3 <a class="code" href="class_s_g_model.html#a715a851f52ef1ef868d3bcf67b2d4a78">actualPosition</a>;      </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">//{</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">//  get</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">//  {</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">//      return transform.position + GetComponent&lt;MeshFilter&gt;().mesh.bounds.center;  // mesh的位置</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">//  }</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">//}</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="class_s_g_model.html#ab48c0cb9b6cdfc58e0fb07da7ab85e3f">  100</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_s_g_model.html#ab48c0cb9b6cdfc58e0fb07da7ab85e3f">Init</a>(IntPtr _opMesh, <span class="keywordtype">int</span> _sgHeight)</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">if</span> (_opMesh == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            Debug.LogError(<span class="stringliteral">&quot;opMesh == null!&quot;</span>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">if</span> (_sgHeight == 0)</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a> = _opMesh;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="class_s_g_model.html#ae9612d0d47516172c6b5eb998de60e7b">sg_height</a> = _sgHeight;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <a class="code" href="class_s_g_model.html#a4cf1e26b13a1371c80262522711312de">hasFinishPostCreation</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        gameObject.transform.position = Vector3.zero;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="comment">// 生成一个完整网格</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <a class="code" href="class_s_g_model.html#a3c72db799c02aa22203ce9ae11d882ad">ExtrudeGenerate</a>(this.op_mesh, <a class="code" href="class_s_g_model.html#ae9612d0d47516172c6b5eb998de60e7b">sg_height</a>);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a4a89743e49ca63738504dfc074aa7143">  124</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_s_g_model.html#a4a89743e49ca63738504dfc074aa7143">PostCreation</a>()</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="comment">// 生成边</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="comment">//ShowEdges();</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="comment">// 修改材质</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="comment">//modelObj.GetComponent&lt;MeshRenderer&gt;().material = new Material(Resources.Load(&quot;Materials/Default&quot;, typeof(Material)) as Material);</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="comment">// interactable，使手柄能够被触碰、高亮</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        VRTK_InteractableObject interactable = gameObject.AddComponent&lt;<a class="code" href="class_interactable_object.html">InteractableObject</a>&gt;();    <span class="comment">// 允许抓取</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        interactable.enabled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        interactable.isGrabbable = <span class="keyword">false</span>;       <span class="comment">//目前不允许抓取</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        interactable.isUsable = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        interactable.holdButtonToGrab = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="comment">// 每个面添加outline外框高亮组件</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        Vector3 modelCenter = Vector3.zero;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform.childCount; i++)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            var go = <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform.GetChild(i).gameObject;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            Outline outline = go.AddComponent&lt;Outline&gt;();</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            outline.OutlineMode = Outline.Mode.OutlineAll;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            outline.OutlineColor = <a class="code" href="class_s_g_model.html#ab5867cf2e50e604c2d379f21a37906ff">TouchedColor</a>;      <span class="comment">// 触碰的颜色</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            outline.OutlineWidth = 6f;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            outline.enabled = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="comment">// 添加Collider，供之后选取使用</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            go.AddComponent&lt;MeshCollider&gt;();</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="comment">// 计算中心</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            modelCenter += go.GetComponent&lt;Renderer&gt;().bounds.center;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="comment">//go.GetComponent&lt;SGArea&gt;().sgModel = this;</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        modelCenter /= <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform.childCount;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <a class="code" href="class_s_g_model.html#a715a851f52ef1ef868d3bcf67b2d4a78">actualPosition</a> = modelCenter;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="comment">// // 设定抓取位置</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="comment">// VRTK_ChildOfControllerGrabAttach grabAttach = gameObject.AddComponent&lt;VRTK_ChildOfControllerGrabAttach&gt;();   // 一定要加这个，否则物体不会跟着手动</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="comment">// GameObject grabPivot = new GameObject(GrabPivotName);</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="comment">// grabPivot.transform.position = modelCenter;</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="comment">// grabPivot.transform.parent = gameObject.transform;</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="comment">// grabAttach.rightSnapHandle = grabPivot.transform;</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="comment">// 模型不会产生碰撞</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        Rigidbody rb = gameObject.AddComponent&lt;Rigidbody&gt;();</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        rb.isKinematic = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="comment">//model.GetComponent&lt;BoxCollider&gt;().isTrigger = true;</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="comment">//model.AddComponent&lt;VRTK_ChildOfControllerGrabAttach&gt;();   // 一定要加这个，否则物体不会跟着手动</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <a class="code" href="class_s_g_model.html#a4cf1e26b13a1371c80262522711312de">hasFinishPostCreation</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">//public void CombineAreas()</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">//{</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">//  if (modelObj != null)</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">//      DestroyImmediate(modelObj);</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">//  Vector3 modelLastPos = modelRootObj.transform.position;</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">//  modelRootObj.transform.position = Vector3.zero;</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">//  MeshRenderer[] meshRenderers = areaRootObj.GetComponentsInChildren&lt;MeshRenderer&gt;(false);</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">//  Material[] mats = new Material[meshRenderers.Length];</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">//  for (int i = 0; i &lt; meshRenderers.Length; i++)</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">//  {</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">//      mats[i] = meshRenderers[i].sharedMaterial;</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">//  }</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment">//  MeshFilter[] meshFilters = areaRootObj.GetComponentsInChildren&lt;MeshFilter&gt;();</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">//  CombineInstance[] combine = new CombineInstance[meshFilters.Length];</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">//  for (int i = 0; i &lt; meshFilters.Length; i++)</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">//  {</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">//      combine[i].mesh = meshFilters[i].sharedMesh;</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">//      combine[i].transform = meshFilters[i].transform.localToWorldMatrix;</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">//      //meshFilters[i].gameObject.SetActive(false);</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">//  }</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">//  modelObj = new GameObject(SingleModelName);</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">//  //      MeshFilter objMf = modelObj.AddComponent&lt;MeshFilter&gt;();</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">//  //objMf.mesh = new Mesh();</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">//  //objMf.mesh.CombineMeshes(combine);      // 合并网格</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">//  modelObj.AddComponent&lt;MeshFilter&gt;().mesh = new Mesh();</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">//  modelObj.GetComponent&lt;MeshFilter&gt;().mesh.CombineMeshes(combine, false);     // 合并为多个submesh，用于显示材质</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">//  modelObj.SetActive(false);</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">//  modelObj.AddComponent&lt;MeshRenderer&gt;().sharedMaterials = mats;</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="comment">//  // 专门创建一个用于outline的物体</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">//  MeshFilter modelRootMf;</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="comment">//  modelRootObj.TryGetComponent&lt;MeshFilter&gt;(out modelRootMf);</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="comment">//  if (modelRootMf == null)</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">//      modelRootMf = modelRootObj.AddComponent&lt;MeshFilter&gt;();</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">//  modelRootMf.mesh = new Mesh();</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">//  modelRootMf.mesh.CombineMeshes(combine, true);      // 合并为一个submesh， 用于高亮</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">//  modelRootObj.AddComponent&lt;MeshRenderer&gt;().enabled = false;      // 后期再加个透明材质之类的</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">//  // 调整位置</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">//  modelObj.transform.SetParent(modelRootObj.transform);</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">//  modelObj.transform.localPosition = Vector3.zero;</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">//  modelRootObj.transform.position = modelLastPos;</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">//}</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="class_s_g_model.html#abd377793221741d60036743d07faf30b">  231</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_s_g_model.html#abd377793221741d60036743d07faf30b">SetEdgesSelectable</a>()</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        this.edgeRootObj.SetActive(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="class_s_g_model.html#ac71ac01c7fe6ef9d474ea7816b3c4555">  239</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_s_g_model.html#ac71ac01c7fe6ef9d474ea7816b3c4555">SetEdgesUnSelectable</a>()</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        this.edgeRootObj.SetActive(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a0232ce1967eced09e8d0578c69374a8b">  247</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_s_g_model.html#a0232ce1967eced09e8d0578c69374a8b">SetAreasMaterial</a>(Material mat)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform.childCount; i++)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            var go = <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform.GetChild(i).gameObject;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            go.GetComponent&lt;Renderer&gt;().material = mat;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a3b30a458fbb02788bfcec678aa8cefe9">  259</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_s_g_model.html#a3b30a458fbb02788bfcec678aa8cefe9">SetAreasColor</a>(Color color)</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform.childCount; i++)</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            var go = <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform.GetChild(i).gameObject;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            go.GetComponent&lt;Renderer&gt;().material.color = color;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a5ede647eb0481ea3d8303809053f8e37">  271</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_s_g_model.html#a5ede647eb0481ea3d8303809053f8e37">ShowAreasOutline</a>()</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform.childCount; i++)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            var go = <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform.GetChild(i).gameObject;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            go.GetComponent&lt;Outline&gt;().enabled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a0ed2ac52a6aa7c8f5cbd0aee8d4e8297">  283</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_s_g_model.html#a0ed2ac52a6aa7c8f5cbd0aee8d4e8297">HideAreasOutline</a>()</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform.childCount; i++)</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            var go = <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform.GetChild(i).gameObject;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            go.GetComponent&lt;Outline&gt;().enabled = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="class_s_g_model.html#add5a2c00ee53ae3dad174287d40aa899">  295</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_s_g_model.html#add5a2c00ee53ae3dad174287d40aa899">SetAreasOutlineColor</a>(Color32 newColor)</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform.childCount; i++)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            var go = <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform.GetChild(i).gameObject;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            go.GetComponent&lt;Outline&gt;().OutlineColor = newColor;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a3a9030f819ba6524b4f7f73417223357">  307</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_s_g_model.html#a3a9030f819ba6524b4f7f73417223357">SetAreasSelectable</a>()</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform.childCount; i++)  <span class="comment">// areaRootObj保持active</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            var go = <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform.GetChild(i).gameObject;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="comment">// interactable</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <span class="keywordflow">if</span> (go.GetComponent&lt;<a class="code" href="class_interactable_object.html">InteractableObject</a>&gt;() == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                VRTK_InteractableObject interactable = go.AddComponent&lt;<a class="code" href="class_interactable_object.html">InteractableObject</a>&gt;();    <span class="comment">// 允许抓取</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                interactable.enabled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                interactable.isGrabbable = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                interactable.holdButtonToGrab = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="comment">// 高亮</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="keywordflow">if</span> (go.TryGetComponent&lt;Outline&gt;(out var outline))</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                outline.OutlineColor = <a class="code" href="class_s_g_model.html#ab5867cf2e50e604c2d379f21a37906ff">TouchedColor</a>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                outline.enabled = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="comment">// 使模型物体自身不可交互（从而不影响面的交互）</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="comment">// 直接Destroy该脚本，因为开启时为非常卡。即使disable了，由于继承了VRTK_InteractableObject，会莫名其妙启用</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">if</span> (gameObject.TryGetComponent&lt;<a class="code" href="class_interactable_object.html">InteractableObject</a>&gt;(out var interact))</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            Destroy(interact);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="comment">//modelRootObj.GetComponent&lt;Outline&gt;().enabled = false;</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="class_s_g_model.html#ae3594eb1fd1a4ea675f4d5af3b5d5048">  340</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_s_g_model.html#ae3594eb1fd1a4ea675f4d5af3b5d5048">SetAreasUnSelectable</a>()</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform.childCount; i++)  <span class="comment">// areaRootObj保持active</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <span class="comment">//SetAreaObjectUnSelectable(areaRootObj.transform.GetChild(i).gameObject);</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            var go = <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform.GetChild(i).gameObject;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="comment">// interactable</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <span class="keywordflow">if</span> (go.TryGetComponent&lt;<a class="code" href="class_interactable_object.html">InteractableObject</a>&gt;(out var interact))</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                Destroy(interact);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="comment">// 执行这一函数时模型一定是被选取状态</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <span class="keywordflow">if</span> (go.TryGetComponent&lt;Outline&gt;(out var outline))</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                outline.OutlineColor = <a class="code" href="class_s_g_model.html#ab5867cf2e50e604c2d379f21a37906ff">TouchedColor</a>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                outline.enabled = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="class_s_g_model.html#aec04b8088e787173ba6624f6e7622c89">  365</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_s_g_model.html#aec04b8088e787173ba6624f6e7622c89">SetModelInteractable</a>()</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="comment">// 使根物体可交互</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">if</span> (gameObject.GetComponent&lt;<a class="code" href="class_interactable_object.html">InteractableObject</a>&gt;() == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <span class="comment">// 重新加载这一脚本，因为之前执行功能时去除了</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <a class="code" href="class_interactable_object.html">InteractableObject</a> interactable = gameObject.AddComponent&lt;<a class="code" href="class_interactable_object.html">InteractableObject</a>&gt;();</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            interactable.enabled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            interactable.isGrabbable = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            interactable.holdButtonToGrab = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            interactable.<a class="code" href="class_interactable_object.html#a8e35ab1fd914137b268bfacc3170d38b">isSelected</a> = <span class="keyword">false</span>;     <span class="comment">// 重置为未选取状态</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <span class="comment">// 开启外框描边</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            <span class="comment">//modelRootObj.GetComponent&lt;Outline&gt;().enabled = true;</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a5c56b6c2dc1252b0190af0780db20bc0">  393</a></span>&#160;    <span class="keyword">public</span> GameObject <a class="code" href="class_s_g_model.html#a5c56b6c2dc1252b0190af0780db20bc0">ShowAreas</a>()</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a> != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            Destroy(<a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a> = <span class="keyword">new</span> GameObject(<a class="code" href="class_s_g_model.html#aae85526dc3957837f1bdab39d7aca6c7">AreaRootName</a>);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="comment">//IntPtr objMatrPtr = sguGetMeshMatrix(op_mesh);</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="comment">//matr objMatrix = (matr)Marshal.PtrToStructure(objMatrPtr, typeof(matr));</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a> == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            Debug.LogError(<span class="stringliteral">&quot;op_mesh == null&quot;</span>);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordtype">int</span> area_count = <a class="code" href="class_s_g_model.html#a6b5890bdbb54b02f9d20176e2cfac610">sguGetMeshAreaCount</a>(<a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a>);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; area_count; i++)</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            GameObject go = <span class="keyword">new</span> GameObject();       <span class="comment">// 每个面</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            go.AddComponent&lt;MeshFilter&gt;();</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            go.AddComponent&lt;MeshRenderer&gt;();</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            MeshFilter meshFilter = go.GetComponent&lt;MeshFilter&gt;();</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            <span class="keywordflow">if</span> (meshFilter == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                Debug.LogError(<span class="stringliteral">&quot;MeshFilter not found!&quot;</span>);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <span class="keywordtype">int</span> point_count = <a class="code" href="class_s_g_model.html#ab490f88e0a99e2155fe0331b4a52a387">sguGetAreaVertexCount</a>(<a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a>, i);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            Vector3[] allVerts = <span class="keyword">new</span> Vector3[point_count];</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            Vector3[] allNormals = <span class="keyword">new</span> Vector3[point_count];</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            Vector2[] uvs = <span class="keyword">new</span> Vector2[point_count];</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            Vector3 areaNormal;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keywordtype">int</span>[] trIndexes = <span class="keyword">new</span> <span class="keywordtype">int</span>[point_count];</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keywordtype">int</span> structSize3D = Marshal.SizeOf(typeof(<a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a>));</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <span class="keywordtype">int</span> structSize2D = Marshal.SizeOf(typeof(<a class="code" href="struct_s_g_model_1_1vec2d.html">vec2d</a>));</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            IntPtr vertVals = <a class="code" href="class_s_g_model.html#a0f7178f2f9f0410b40ba18f2c0b4a2cd">sguGetAreaVertexes</a>(<a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a>, i);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            IntPtr normVals = <a class="code" href="class_s_g_model.html#aaa49ec0fbd1e661ccc21599b5294c003">sguGetAreaNormals</a>(<a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a>, i);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            IntPtr areaNormVal = <a class="code" href="class_s_g_model.html#a439f56b890255a9641758b3cf8a8c6e7">sguGetAreaPlaneNormal</a>(<a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a>, i);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            IntPtr uvVals = <a class="code" href="class_s_g_model.html#a5e0faf8bacf280c25a02d3d5bdaa4ae4">sguGetAreaUVs</a>(<a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a>, i);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <span class="comment">// 获取面法向量</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            IntPtr areaNormaldata = <span class="keyword">new</span> IntPtr(areaNormVal.ToInt64());</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a> areaNormalPnt = (<a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a>)Marshal.PtrToStructure(areaNormaldata, typeof(<a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a>));</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            areaNormal = <span class="keyword">new</span> Vector3((<span class="keywordtype">float</span>)areaNormalPnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#a6c09077bd4936ca71ad02b33d8903edf">x</a>, (<span class="keywordtype">float</span>)areaNormalPnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#a0b8c550ce99efedcbe10df01e97d3962">z</a>, (<span class="keywordtype">float</span>)areaNormalPnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#ab7db77939c9847df8752718938eb23f7">y</a>);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="comment">// 存储必要参数</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            go.AddComponent&lt;<a class="code" href="class_s_g_area.html">SGArea</a>&gt;().normal = areaNormal;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            go.GetComponent&lt;<a class="code" href="class_s_g_area.html">SGArea</a>&gt;().sgModel = <span class="keyword">this</span>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; point_count; j++)</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                IntPtr data = <span class="keyword">new</span> IntPtr(vertVals.ToInt64() + structSize3D * j);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                <a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a> pnt = (<a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a>)Marshal.PtrToStructure(data, typeof(<a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a>));</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                allVerts[j] = <span class="keyword">new</span> Vector3((<span class="keywordtype">float</span>)pnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#a6c09077bd4936ca71ad02b33d8903edf">x</a>, (<span class="keywordtype">float</span>)pnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#a0b8c550ce99efedcbe10df01e97d3962">z</a>, (<span class="keywordtype">float</span>)pnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#ab7db77939c9847df8752718938eb23f7">y</a>);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                <span class="comment">//allVerts[j] = PointToMatrix(allVerts[j], objMatrix);</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                data = <span class="keyword">new</span> IntPtr(normVals.ToInt64() + structSize3D * j);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                pnt = (<a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a>)Marshal.PtrToStructure(data, typeof(<a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a>));</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                allNormals[j] = <span class="keyword">new</span> Vector3((<span class="keywordtype">float</span>)pnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#a6c09077bd4936ca71ad02b33d8903edf">x</a>, (<span class="keywordtype">float</span>)pnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#a0b8c550ce99efedcbe10df01e97d3962">z</a>, (<span class="keywordtype">float</span>)pnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#ab7db77939c9847df8752718938eb23f7">y</a>);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                data = <span class="keyword">new</span> IntPtr(uvVals.ToInt64() + structSize2D * j);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                <a class="code" href="struct_s_g_model_1_1vec2d.html">vec2d</a> tmpUV = (<a class="code" href="struct_s_g_model_1_1vec2d.html">vec2d</a>)Marshal.PtrToStructure(data, typeof(<a class="code" href="struct_s_g_model_1_1vec2d.html">vec2d</a>));</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                <span class="comment">//uvs[j] = new Vector2(allVerts[j].x/1000, allVerts[j].z/1000);</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                uvs[j] = <span class="keyword">new</span> Vector2((<span class="keywordtype">float</span>)tmpUV.<a class="code" href="struct_s_g_model_1_1vec2d.html#a2e58a01471acbf802e93ff848d259822">x</a> / 10, (<span class="keywordtype">float</span>)tmpUV.<a class="code" href="struct_s_g_model_1_1vec2d.html#ae3a6be9c6e1e9cc1f8fd282a9bd95445">y</a> / 10);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                <span class="comment">//Debug.Log(uvs[j]);</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                <span class="comment">//uvs[j] = new Vector2(allVerts[j].x/1000, allVerts[j].z/1000);</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                trIndexes[j] = j;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            Mesh mesh = meshFilter.sharedMesh;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keywordflow">if</span> (mesh == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                meshFilter.mesh = <span class="keyword">new</span> Mesh();</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                mesh = meshFilter.sharedMesh;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            }</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            mesh.Clear();</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            mesh.vertices = allVerts;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            mesh.normals = allNormals;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            mesh.triangles = trIndexes;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            mesh.uv = uvs;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            mesh.RecalculateNormals();</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            mesh.RecalculateBounds();</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            mesh.Optimize();</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <span class="comment">//go.GetComponent&lt;Renderer&gt;().material = Resources.Load(&quot;roofMat&quot;, typeof(Material)) as Material;</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            go.GetComponent&lt;Renderer&gt;().material = <span class="keyword">new</span> Material(Resources.Load(<span class="stringliteral">&quot;Materials/Default&quot;</span>, typeof(Material)) as Material);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            go.transform.SetParent(<a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform.SetParent(gameObject.transform);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>.transform.localPosition = Vector3.zero;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">areaRootObj</a>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a3b378bbddf0da0b096cd511e03e1a0f2">  501</a></span>&#160;    <span class="keyword">public</span> GameObject <a class="code" href="class_s_g_model.html#a3b378bbddf0da0b096cd511e03e1a0f2">ShowEdges</a>()</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_s_g_model.html#a2dc4ee477d0453bba2e0fc863463fd9b">edgeRootObj</a> != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            Destroy(<a class="code" href="class_s_g_model.html#a2dc4ee477d0453bba2e0fc863463fd9b">edgeRootObj</a>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <a class="code" href="class_s_g_model.html#a2dc4ee477d0453bba2e0fc863463fd9b">edgeRootObj</a> = <span class="keyword">new</span> GameObject(<a class="code" href="class_s_g_model.html#a55db5cd5a783fe00d68627ff50b961b2">EdgeRootName</a>);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a> == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            Debug.LogError(<span class="stringliteral">&quot;op_mesh == null&quot;</span>);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        }</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="comment">//edge_class_list.Clear();</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        List&lt;vec2i&gt; edge_class_list = <span class="keyword">new</span> List&lt;vec2i&gt;();</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        IntPtr objMatrPtr = <a class="code" href="class_s_g_model.html#ad9c224ddcd0c2bbc8676d3caa3a67e59">sguGetMeshMatrix</a>(<a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a>);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <a class="code" href="struct_s_g_model_1_1matr.html">matr</a> objMatrix = (<a class="code" href="struct_s_g_model_1_1matr.html">matr</a>)Marshal.PtrToStructure(objMatrPtr, typeof(<a class="code" href="struct_s_g_model_1_1matr.html">matr</a>));</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordtype">int</span> structSize3D = Marshal.SizeOf(typeof(<a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a>));</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordtype">int</span> edge_count = <a class="code" href="class_s_g_model.html#a1b121c44eaa95fed659355b5fb31469b">sguGetMeshEdgeCount</a>(<a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a>);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; edge_count; i++)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            Vector3 v1, v2;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            IntPtr vertVals = <a class="code" href="class_s_g_model.html#a9772af8964a1f8013f345a75008372d3">sguGetEdgeVertexes</a>(<a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a>, i);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            IntPtr rVals = <a class="code" href="class_s_g_model.html#ab34f08f5b565b36f0798ebb1c062cf07">sguGetEdgeMaxRadius</a>(<a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a>, i);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            rVals = <span class="keyword">new</span> IntPtr(rVals.ToInt64());</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <a class="code" href="struct_s_g_model_1_1vec1d.html">vec1d</a> max_radius = (<a class="code" href="struct_s_g_model_1_1vec1d.html">vec1d</a>)Marshal.PtrToStructure(rVals, typeof(<a class="code" href="struct_s_g_model_1_1vec1d.html">vec1d</a>));</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            IntPtr data = <span class="keyword">new</span> IntPtr(vertVals.ToInt64() + structSize3D * 0);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a> pnt = (<a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a>)Marshal.PtrToStructure(data, typeof(<a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a>));</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            v1 = <span class="keyword">new</span> Vector3((<span class="keywordtype">float</span>)pnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#a6c09077bd4936ca71ad02b33d8903edf">x</a>, (<span class="keywordtype">float</span>)pnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#a0b8c550ce99efedcbe10df01e97d3962">z</a>, (<span class="keywordtype">float</span>)pnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#ab7db77939c9847df8752718938eb23f7">y</a>);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            data = <span class="keyword">new</span> IntPtr(vertVals.ToInt64() + structSize3D * 1);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            pnt = (<a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a>)Marshal.PtrToStructure(data, typeof(<a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a>));</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            v2 = <span class="keyword">new</span> Vector3((<span class="keywordtype">float</span>)pnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#a6c09077bd4936ca71ad02b33d8903edf">x</a>, (<span class="keywordtype">float</span>)pnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#a0b8c550ce99efedcbe10df01e97d3962">z</a>, (<span class="keywordtype">float</span>)pnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#ab7db77939c9847df8752718938eb23f7">y</a>);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            <span class="keywordtype">int</span> region_mark_A = Math.Min(<a class="code" href="class_s_g_model.html#a9177d97615b955b278dca48606bc3a71">sguGetEdgeRegionMarkA</a>(<a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a>, i), <a class="code" href="class_s_g_model.html#ae14a7b14c2844a4343b9821f86fd0704">sguGetEdgeRegionMarkB</a>(<a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a>, i));</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordtype">int</span> region_mark_B = Math.Max(<a class="code" href="class_s_g_model.html#a9177d97615b955b278dca48606bc3a71">sguGetEdgeRegionMarkA</a>(<a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a>, i), <a class="code" href="class_s_g_model.html#ae14a7b14c2844a4343b9821f86fd0704">sguGetEdgeRegionMarkB</a>(<a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a>, i));</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            <span class="keywordtype">bool</span> new_class = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            <span class="keywordtype">int</span> class_id = 0;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; edge_class_list.Count; j++)</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                <span class="keywordflow">if</span> (region_mark_A == edge_class_list[j].x &amp;&amp; region_mark_B == edge_class_list[j].y)</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                    new_class = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                    class_id = j;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <span class="comment">//实例化</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            GameObject new_edge = GameObject.Instantiate((GameObject)Resources.Load(<span class="stringliteral">&quot;Prefabs/3DEdge&quot;</span>));</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <span class="keywordflow">if</span> (new_edge == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                Debug.LogError(<span class="stringliteral">&quot;new_edge == null!&quot;</span>);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            <span class="comment">//start函数执行较晚</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            new_edge.GetComponent&lt;<a class="code" href="class_s_g_u_edge.html">SGUEdge</a>&gt;().<a class="code" href="class_s_g_model.html#ab48c0cb9b6cdfc58e0fb07da7ab85e3f">Init</a>(<span class="keyword">this</span>, v1, v2, region_mark_A, region_mark_B, i, max_radius.<a class="code" href="struct_s_g_model_1_1vec1d.html#ae53c511ef8f895d46d04cc8855ea2d26">x</a>);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            <span class="keywordflow">if</span> (new_class)</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                GameObject new_edge_class = <span class="keyword">new</span> GameObject();</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                new_edge_class.name = edge_class_list.Count.ToString();</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                new_edge.transform.SetParent(new_edge_class.transform);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                new_edge_class.transform.SetParent(<a class="code" href="class_s_g_model.html#a2dc4ee477d0453bba2e0fc863463fd9b">edgeRootObj</a>.transform);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                <a class="code" href="struct_s_g_model_1_1vec2i.html">vec2i</a> region_marks = <span class="keyword">new</span> <a class="code" href="struct_s_g_model_1_1vec2i.html">vec2i</a>();</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                region_marks.<a class="code" href="struct_s_g_model_1_1vec2i.html#abd5df4792176e45d7b66838b655ad914">x</a> = region_mark_A;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                region_marks.<a class="code" href="struct_s_g_model_1_1vec2i.html#a0390d10608b805356aa4468efe53cb3b">y</a> = region_mark_B;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                edge_class_list.Add(region_marks);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                <span class="comment">//Debug.Log(class_id);</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                new_edge.transform.SetParent(<a class="code" href="class_s_g_model.html#a2dc4ee477d0453bba2e0fc863463fd9b">edgeRootObj</a>.transform.GetChild(class_id).transform);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <a class="code" href="class_s_g_model.html#a2dc4ee477d0453bba2e0fc863463fd9b">edgeRootObj</a>.transform.SetParent(gameObject.transform);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <a class="code" href="class_s_g_model.html#a2dc4ee477d0453bba2e0fc863463fd9b">edgeRootObj</a>.transform.localPosition = Vector3.zero;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <a class="code" href="class_s_g_model.html#a2dc4ee477d0453bba2e0fc863463fd9b">edgeRootObj</a>.SetActive(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_s_g_model.html#a2dc4ee477d0453bba2e0fc863463fd9b">edgeRootObj</a>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00593"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a3c72db799c02aa22203ce9ae11d882ad">  593</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_s_g_model.html#a3c72db799c02aa22203ce9ae11d882ad">ExtrudeGenerate</a>(IntPtr <a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a>, <span class="keywordtype">int</span> <a class="code" href="class_s_g_model.html#ae9612d0d47516172c6b5eb998de60e7b">sg_height</a>)<span class="comment">//不分区显示</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        IntPtr curObjPtr = <a class="code" href="class_s_g_model.html#a6deb74ab107c3455cff8d08c6ac22714">sguGetSolidModel</a>(<a class="code" href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">op_mesh</a>);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        MeshFilter meshFilter = gameObject.AddComponent&lt;MeshFilter&gt;();</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="comment">//gameObject.AddComponent&lt;MeshRenderer&gt;();</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordflow">if</span> (meshFilter == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            Debug.LogError(<span class="stringliteral">&quot;MeshFilter not found!&quot;</span>);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordtype">int</span> vCnt = <a class="code" href="class_s_g_model.html#a4af667d1987ec93968887932e3e82403">sgGetObjectTrianglesCount</a>(curObjPtr) * 3;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="comment">//Debug.Log(vCnt);</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        Vector3[] allVerts = <span class="keyword">new</span> Vector3[vCnt];</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        Vector3[] allNormals = <span class="keyword">new</span> Vector3[vCnt];</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <span class="keywordtype">int</span>[] trIndexes = <span class="keyword">new</span> <span class="keywordtype">int</span>[vCnt];</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        Vector2[] uvs = <span class="keyword">new</span> Vector2[vCnt];</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        IntPtr vertVals = <a class="code" href="class_s_g_model.html#aecefb0b61a3bedb496f7734df203396b">sgGetObjectVertexes</a>(curObjPtr);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        IntPtr normVals = <a class="code" href="class_s_g_model.html#af3facf26d447eec8fca2be6c6e1bfebd">sgGetObjectNormals</a>(curObjPtr);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        IntPtr uvVals = <a class="code" href="class_s_g_model.html#ad838e6b15c572ccf8e3e21c8f6e5129b">sgGetObjectUVs</a>(curObjPtr);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        IntPtr objMatrPtr = <a class="code" href="class_s_g_model.html#af3e92ce70e1d2c6fb7e068f86df8636f">sgGetObjectMatrix</a>(curObjPtr);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="keywordtype">int</span> structSize3D = Marshal.SizeOf(typeof(<a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a>));</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="keywordtype">int</span> structSize2D = Marshal.SizeOf(typeof(<a class="code" href="struct_s_g_model_1_1vec2d.html">vec2d</a>));</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <a class="code" href="struct_s_g_model_1_1matr.html">matr</a> objMatrix = (<a class="code" href="struct_s_g_model_1_1matr.html">matr</a>)Marshal.PtrToStructure(objMatrPtr, typeof(<a class="code" href="struct_s_g_model_1_1matr.html">matr</a>));</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0, j = 0; i &lt; vCnt; i++)</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            IntPtr data = <span class="keyword">new</span> IntPtr(vertVals.ToInt64() + structSize3D * i);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a> pnt = (<a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a>)Marshal.PtrToStructure(data, typeof(<a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a>));</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            allVerts[j] = <span class="keyword">new</span> Vector3((<span class="keywordtype">float</span>)pnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#a6c09077bd4936ca71ad02b33d8903edf">x</a>, (<span class="keywordtype">float</span>)pnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#ab7db77939c9847df8752718938eb23f7">y</a>, (<span class="keywordtype">float</span>)pnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#a0b8c550ce99efedcbe10df01e97d3962">z</a>);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            allVerts[j] = <a class="code" href="class_s_g_model.html#a0b0bbacedd361329eb2e4b5cb7c190cb">PointToMatrix</a>(allVerts[j], objMatrix);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160; </div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            data = <span class="keyword">new</span> IntPtr(normVals.ToInt64() + structSize3D * i);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            pnt = (<a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a>)Marshal.PtrToStructure(data, typeof(<a class="code" href="struct_s_g_model_1_1vec3d.html">vec3d</a>));</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            allNormals[j] = <span class="keyword">new</span> Vector3((<span class="keywordtype">float</span>)pnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#a6c09077bd4936ca71ad02b33d8903edf">x</a>, (<span class="keywordtype">float</span>)pnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#ab7db77939c9847df8752718938eb23f7">y</a>, (<span class="keywordtype">float</span>)pnt.<a class="code" href="struct_s_g_model_1_1vec3d.html#a0b8c550ce99efedcbe10df01e97d3962">z</a>);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            data = <span class="keyword">new</span> IntPtr(uvVals.ToInt64() + structSize2D * i);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <a class="code" href="struct_s_g_model_1_1vec2d.html">vec2d</a> tmpUV = (<a class="code" href="struct_s_g_model_1_1vec2d.html">vec2d</a>)Marshal.PtrToStructure(data, typeof(<a class="code" href="struct_s_g_model_1_1vec2d.html">vec2d</a>));</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            uvs[j] = <span class="keyword">new</span> Vector2((<span class="keywordtype">float</span>)tmpUV.<a class="code" href="struct_s_g_model_1_1vec2d.html#a2e58a01471acbf802e93ff848d259822">x</a> / <a class="code" href="class_s_g_model.html#ae9612d0d47516172c6b5eb998de60e7b">sg_height</a>, (<span class="keywordtype">float</span>)tmpUV.<a class="code" href="struct_s_g_model_1_1vec2d.html#ae3a6be9c6e1e9cc1f8fd282a9bd95445">y</a> / <a class="code" href="class_s_g_model.html#ae9612d0d47516172c6b5eb998de60e7b">sg_height</a>);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            j++;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            trIndexes[i] = i;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        }</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        Mesh mesh = meshFilter.sharedMesh;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="keywordflow">if</span> (mesh == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            meshFilter.mesh = <span class="keyword">new</span> Mesh();</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            mesh = meshFilter.sharedMesh;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        mesh.Clear();</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        mesh.vertices = allVerts;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        mesh.normals = allNormals;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        mesh.triangles = trIndexes;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        mesh.uv = uvs;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        mesh.RecalculateNormals();</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        mesh.RecalculateBounds();</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        mesh.Optimize();</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="comment">//if (sgGetObjectMaterialIndex(curObjPtr) == 1)</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <span class="comment">//  modelObj.GetComponent&lt;Renderer&gt;().material = Resources.Load(&quot;Materials/roofMat&quot;, typeof(Material)) as Material;</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="comment">//else</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <span class="comment">//  modelObj.GetComponent&lt;Renderer&gt;().material = Resources.Load(&quot;Materials/woodMat&quot;, typeof(Material)) as Material;</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    }</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno"><a class="line" href="class_s_g_model.html#a0b0bbacedd361329eb2e4b5cb7c190cb">  670</a></span>&#160;    <span class="keyword">protected</span> Vector3 <a class="code" href="class_s_g_model.html#a0b0bbacedd361329eb2e4b5cb7c190cb">PointToMatrix</a>(Vector3 pnt, <a class="code" href="struct_s_g_model_1_1matr.html">matr</a> matrix)</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        Vector3 resltPnt;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        resltPnt.x = (float)(pnt.x * matrix.<a class="code" href="struct_s_g_model_1_1matr.html#ac538c33596d9542af7813bfe2c590279">m11</a> + pnt.y * matrix.<a class="code" href="struct_s_g_model_1_1matr.html#a8b9780d2c7cb62b7ec2b3a1acfb707bc">m21</a> + pnt.z * matrix.<a class="code" href="struct_s_g_model_1_1matr.html#ab280c10e55d268cedc13d1787ae7d619">m31</a> + matrix.<a class="code" href="struct_s_g_model_1_1matr.html#a72f340b99dab79d11ba99250df9645db">m41</a>);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        resltPnt.y = (float)(pnt.x * matrix.<a class="code" href="struct_s_g_model_1_1matr.html#a9305c4f9cd048190f9aaf884e47e9ac4">m12</a> + pnt.y * matrix.<a class="code" href="struct_s_g_model_1_1matr.html#a8b3a7bf83a87bd9f33f78e8731d77999">m22</a> + pnt.z * matrix.<a class="code" href="struct_s_g_model_1_1matr.html#ace5ae44f426004933786ba2921ad0db2">m32</a> + matrix.<a class="code" href="struct_s_g_model_1_1matr.html#a1cd6c9e1300a4461be2511a3328b573f">m42</a>);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        resltPnt.z = (float)(pnt.x * matrix.<a class="code" href="struct_s_g_model_1_1matr.html#a3599b57bfc8760d093f2338b6b9a188e">m13</a> + pnt.y * matrix.<a class="code" href="struct_s_g_model_1_1matr.html#af1222c3ad50f4e55d4be61eeb7a072c7">m23</a> + pnt.z * matrix.<a class="code" href="struct_s_g_model_1_1matr.html#a3609cb41af7d9a9e5e29bedf4e7157a0">m33</a> + matrix.<a class="code" href="struct_s_g_model_1_1matr.html#a7a3e0a2aabd3c3979ffcc4af1d72d6fd">m43</a>);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">return</span> resltPnt;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;}</div>
<div class="ttc" id="aclass_interactable_object_html"><div class="ttname"><a href="class_interactable_object.html">InteractableObject</a></div><div class="ttdoc">可交互物体类 继承VRTK_InteractableObject</div><div class="ttdef"><b>Definition:</b> <a href="_interactable_object_8cs_source.html#l00010">InteractableObject.cs:11</a></div></div>
<div class="ttc" id="aclass_interactable_object_html_a8e35ab1fd914137b268bfacc3170d38b"><div class="ttname"><a href="class_interactable_object.html#a8e35ab1fd914137b268bfacc3170d38b">InteractableObject.isSelected</a></div><div class="ttdeci">bool isSelected</div><div class="ttdoc">是否被选取</div><div class="ttdef"><b>Definition:</b> <a href="_interactable_object_8cs_source.html#l00012">InteractableObject.cs:12</a></div></div>
<div class="ttc" id="aclass_s_g_area_html"><div class="ttname"><a href="class_s_g_area.html">SGArea</a></div><div class="ttdoc">平面类 可以是场景平面或模型面</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_area_8cs_source.html#l00009">SGArea.cs:10</a></div></div>
<div class="ttc" id="aclass_s_g_model_html"><div class="ttname"><a href="class_s_g_model.html">SGModel</a></div><div class="ttdoc">模型类</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00012">SGModel.cs:13</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_a0232ce1967eced09e8d0578c69374a8b"><div class="ttname"><a href="class_s_g_model.html#a0232ce1967eced09e8d0578c69374a8b">SGModel.SetAreasMaterial</a></div><div class="ttdeci">void SetAreasMaterial(Material mat)</div><div class="ttdoc">设置模型所有面的材质</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00247">SGModel.cs:247</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_a0b0bbacedd361329eb2e4b5cb7c190cb"><div class="ttname"><a href="class_s_g_model.html#a0b0bbacedd361329eb2e4b5cb7c190cb">SGModel.PointToMatrix</a></div><div class="ttdeci">Vector3 PointToMatrix(Vector3 pnt, matr matrix)</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00670">SGModel.cs:670</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_a0ed2ac52a6aa7c8f5cbd0aee8d4e8297"><div class="ttname"><a href="class_s_g_model.html#a0ed2ac52a6aa7c8f5cbd0aee8d4e8297">SGModel.HideAreasOutline</a></div><div class="ttdeci">void HideAreasOutline()</div><div class="ttdoc">隐藏模型面的边框高亮</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00283">SGModel.cs:283</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_a0f7178f2f9f0410b40ba18f2c0b4a2cd"><div class="ttname"><a href="class_s_g_model.html#a0f7178f2f9f0410b40ba18f2c0b4a2cd">SGModel.sguGetAreaVertexes</a></div><div class="ttdeci">static IntPtr sguGetAreaVertexes(IntPtr objPtr, int area_id)</div></div>
<div class="ttc" id="aclass_s_g_model_html_a1b121c44eaa95fed659355b5fb31469b"><div class="ttname"><a href="class_s_g_model.html#a1b121c44eaa95fed659355b5fb31469b">SGModel.sguGetMeshEdgeCount</a></div><div class="ttdeci">static int sguGetMeshEdgeCount(IntPtr objPtr)</div></div>
<div class="ttc" id="aclass_s_g_model_html_a2dc4ee477d0453bba2e0fc863463fd9b"><div class="ttname"><a href="class_s_g_model.html#a2dc4ee477d0453bba2e0fc863463fd9b">SGModel.edgeRootObj</a></div><div class="ttdeci">GameObject edgeRootObj</div><div class="ttdoc">模型所有边的根物体</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00075">SGModel.cs:75</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_a3a9030f819ba6524b4f7f73417223357"><div class="ttname"><a href="class_s_g_model.html#a3a9030f819ba6524b4f7f73417223357">SGModel.SetAreasSelectable</a></div><div class="ttdeci">void SetAreasSelectable()</div><div class="ttdoc">设置模型面可被选取</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00307">SGModel.cs:307</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_a3b30a458fbb02788bfcec678aa8cefe9"><div class="ttname"><a href="class_s_g_model.html#a3b30a458fbb02788bfcec678aa8cefe9">SGModel.SetAreasColor</a></div><div class="ttdeci">void SetAreasColor(Color color)</div><div class="ttdoc">设置模型所有面的颜色</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00259">SGModel.cs:259</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_a3b378bbddf0da0b096cd511e03e1a0f2"><div class="ttname"><a href="class_s_g_model.html#a3b378bbddf0da0b096cd511e03e1a0f2">SGModel.ShowEdges</a></div><div class="ttdeci">GameObject ShowEdges()</div><div class="ttdoc">生成边</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00501">SGModel.cs:501</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_a3c72db799c02aa22203ce9ae11d882ad"><div class="ttname"><a href="class_s_g_model.html#a3c72db799c02aa22203ce9ae11d882ad">SGModel.ExtrudeGenerate</a></div><div class="ttdeci">void ExtrudeGenerate(IntPtr op_mesh, int sg_height)</div><div class="ttdoc">根据输入生成模型整体网格</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00593">SGModel.cs:593</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_a439f56b890255a9641758b3cf8a8c6e7"><div class="ttname"><a href="class_s_g_model.html#a439f56b890255a9641758b3cf8a8c6e7">SGModel.sguGetAreaPlaneNormal</a></div><div class="ttdeci">static IntPtr sguGetAreaPlaneNormal(IntPtr objPtr, int area_id)</div></div>
<div class="ttc" id="aclass_s_g_model_html_a4a89743e49ca63738504dfc074aa7143"><div class="ttname"><a href="class_s_g_model.html#a4a89743e49ca63738504dfc074aa7143">SGModel.PostCreation</a></div><div class="ttdeci">virtual void PostCreation()</div><div class="ttdoc">后创建</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00124">SGModel.cs:124</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_a4af667d1987ec93968887932e3e82403"><div class="ttname"><a href="class_s_g_model.html#a4af667d1987ec93968887932e3e82403">SGModel.sgGetObjectTrianglesCount</a></div><div class="ttdeci">static int sgGetObjectTrianglesCount(IntPtr objPtr)</div></div>
<div class="ttc" id="aclass_s_g_model_html_a4cf1e26b13a1371c80262522711312de"><div class="ttname"><a href="class_s_g_model.html#a4cf1e26b13a1371c80262522711312de">SGModel.hasFinishPostCreation</a></div><div class="ttdeci">bool hasFinishPostCreation</div><div class="ttdoc">是否已经进行后创建</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00084">SGModel.cs:84</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_a53900aacb3ae6593fda22e872667cdc3"><div class="ttname"><a href="class_s_g_model.html#a53900aacb3ae6593fda22e872667cdc3">SGModel.isModelSelectedNow</a></div><div class="ttdeci">bool isModelSelectedNow</div><div class="ttdoc">模型当前是否被选取</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00083">SGModel.cs:83</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_a5587759b87e6fca231c2e4941feddf82"><div class="ttname"><a href="class_s_g_model.html#a5587759b87e6fca231c2e4941feddf82">SGModel.areaRootObj</a></div><div class="ttdeci">GameObject areaRootObj</div><div class="ttdoc">模型所有面的根物体</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00074">SGModel.cs:74</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_a55db5cd5a783fe00d68627ff50b961b2"><div class="ttname"><a href="class_s_g_model.html#a55db5cd5a783fe00d68627ff50b961b2">SGModel.EdgeRootName</a></div><div class="ttdeci">static string EdgeRootName</div><div class="ttdoc">模型边的根物体名字</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00078">SGModel.cs:78</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_a5c56b6c2dc1252b0190af0780db20bc0"><div class="ttname"><a href="class_s_g_model.html#a5c56b6c2dc1252b0190af0780db20bc0">SGModel.ShowAreas</a></div><div class="ttdeci">GameObject ShowAreas()</div><div class="ttdoc">添加必要的脚本使物体可以被选取</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00393">SGModel.cs:393</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_a5e0faf8bacf280c25a02d3d5bdaa4ae4"><div class="ttname"><a href="class_s_g_model.html#a5e0faf8bacf280c25a02d3d5bdaa4ae4">SGModel.sguGetAreaUVs</a></div><div class="ttdeci">static IntPtr sguGetAreaUVs(IntPtr objPtr, int area_id)</div></div>
<div class="ttc" id="aclass_s_g_model_html_a5ede647eb0481ea3d8303809053f8e37"><div class="ttname"><a href="class_s_g_model.html#a5ede647eb0481ea3d8303809053f8e37">SGModel.ShowAreasOutline</a></div><div class="ttdeci">void ShowAreasOutline()</div><div class="ttdoc">显示模型面的边框高亮</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00271">SGModel.cs:271</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_a6b5890bdbb54b02f9d20176e2cfac610"><div class="ttname"><a href="class_s_g_model.html#a6b5890bdbb54b02f9d20176e2cfac610">SGModel.sguGetMeshAreaCount</a></div><div class="ttdeci">static int sguGetMeshAreaCount(IntPtr objPtr)</div></div>
<div class="ttc" id="aclass_s_g_model_html_a6deb74ab107c3455cff8d08c6ac22714"><div class="ttname"><a href="class_s_g_model.html#a6deb74ab107c3455cff8d08c6ac22714">SGModel.sguGetSolidModel</a></div><div class="ttdeci">static IntPtr sguGetSolidModel(IntPtr objPtr)</div></div>
<div class="ttc" id="aclass_s_g_model_html_a715a851f52ef1ef868d3bcf67b2d4a78"><div class="ttname"><a href="class_s_g_model.html#a715a851f52ef1ef868d3bcf67b2d4a78">SGModel.actualPosition</a></div><div class="ttdeci">Vector3 actualPosition</div><div class="ttdoc">模型实际中心位置</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00086">SGModel.cs:86</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_a7a3cc5c00cf0731ea552f132966c439b"><div class="ttname"><a href="class_s_g_model.html#a7a3cc5c00cf0731ea552f132966c439b">SGModel.sgGetObjectMaterialIndex</a></div><div class="ttdeci">static int sgGetObjectMaterialIndex(IntPtr objPtr)</div></div>
<div class="ttc" id="aclass_s_g_model_html_a9177d97615b955b278dca48606bc3a71"><div class="ttname"><a href="class_s_g_model.html#a9177d97615b955b278dca48606bc3a71">SGModel.sguGetEdgeRegionMarkA</a></div><div class="ttdeci">static int sguGetEdgeRegionMarkA(IntPtr objPtr, int edge_id)</div></div>
<div class="ttc" id="aclass_s_g_model_html_a9772af8964a1f8013f345a75008372d3"><div class="ttname"><a href="class_s_g_model.html#a9772af8964a1f8013f345a75008372d3">SGModel.sguGetEdgeVertexes</a></div><div class="ttdeci">static IntPtr sguGetEdgeVertexes(IntPtr objPtr, int edge_id)</div></div>
<div class="ttc" id="aclass_s_g_model_html_aa57b230c6cde64412bbf5ada72dfbcba"><div class="ttname"><a href="class_s_g_model.html#aa57b230c6cde64412bbf5ada72dfbcba">SGModel.op_mesh</a></div><div class="ttdeci">IntPtr op_mesh</div><div class="ttdoc">sgCore的网格指针</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00071">SGModel.cs:71</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_aaa49ec0fbd1e661ccc21599b5294c003"><div class="ttname"><a href="class_s_g_model.html#aaa49ec0fbd1e661ccc21599b5294c003">SGModel.sguGetAreaNormals</a></div><div class="ttdeci">static IntPtr sguGetAreaNormals(IntPtr objPtr, int area_id)</div></div>
<div class="ttc" id="aclass_s_g_model_html_aae85526dc3957837f1bdab39d7aca6c7"><div class="ttname"><a href="class_s_g_model.html#aae85526dc3957837f1bdab39d7aca6c7">SGModel.AreaRootName</a></div><div class="ttdeci">static string AreaRootName</div><div class="ttdoc">模型面的根物体名字</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00077">SGModel.cs:77</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_ab34f08f5b565b36f0798ebb1c062cf07"><div class="ttname"><a href="class_s_g_model.html#ab34f08f5b565b36f0798ebb1c062cf07">SGModel.sguGetEdgeMaxRadius</a></div><div class="ttdeci">static IntPtr sguGetEdgeMaxRadius(IntPtr objPtr, int edge_id)</div></div>
<div class="ttc" id="aclass_s_g_model_html_ab48c0cb9b6cdfc58e0fb07da7ab85e3f"><div class="ttname"><a href="class_s_g_model.html#ab48c0cb9b6cdfc58e0fb07da7ab85e3f">SGModel.Init</a></div><div class="ttdeci">void Init(IntPtr _opMesh, int _sgHeight)</div><div class="ttdoc">初始化</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00100">SGModel.cs:100</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_ab490f88e0a99e2155fe0331b4a52a387"><div class="ttname"><a href="class_s_g_model.html#ab490f88e0a99e2155fe0331b4a52a387">SGModel.sguGetAreaVertexCount</a></div><div class="ttdeci">static int sguGetAreaVertexCount(IntPtr objPtr, int area_id)</div></div>
<div class="ttc" id="aclass_s_g_model_html_ab5867cf2e50e604c2d379f21a37906ff"><div class="ttname"><a href="class_s_g_model.html#ab5867cf2e50e604c2d379f21a37906ff">SGModel.TouchedColor</a></div><div class="ttdeci">static readonly Color TouchedColor</div><div class="ttdoc">模型被触摸时的颜色</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00081">SGModel.cs:81</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_abd377793221741d60036743d07faf30b"><div class="ttname"><a href="class_s_g_model.html#abd377793221741d60036743d07faf30b">SGModel.SetEdgesSelectable</a></div><div class="ttdeci">void SetEdgesSelectable()</div><div class="ttdoc">设置边可选取</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00231">SGModel.cs:231</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_ac71ac01c7fe6ef9d474ea7816b3c4555"><div class="ttname"><a href="class_s_g_model.html#ac71ac01c7fe6ef9d474ea7816b3c4555">SGModel.SetEdgesUnSelectable</a></div><div class="ttdeci">void SetEdgesUnSelectable()</div><div class="ttdoc">设置边不可选取</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00239">SGModel.cs:239</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_ad838e6b15c572ccf8e3e21c8f6e5129b"><div class="ttname"><a href="class_s_g_model.html#ad838e6b15c572ccf8e3e21c8f6e5129b">SGModel.sgGetObjectUVs</a></div><div class="ttdeci">static IntPtr sgGetObjectUVs(IntPtr objPtr)</div></div>
<div class="ttc" id="aclass_s_g_model_html_ad9c224ddcd0c2bbc8676d3caa3a67e59"><div class="ttname"><a href="class_s_g_model.html#ad9c224ddcd0c2bbc8676d3caa3a67e59">SGModel.sguGetMeshMatrix</a></div><div class="ttdeci">static IntPtr sguGetMeshMatrix(IntPtr objPtr)</div></div>
<div class="ttc" id="aclass_s_g_model_html_add5a2c00ee53ae3dad174287d40aa899"><div class="ttname"><a href="class_s_g_model.html#add5a2c00ee53ae3dad174287d40aa899">SGModel.SetAreasOutlineColor</a></div><div class="ttdeci">void SetAreasOutlineColor(Color32 newColor)</div><div class="ttdoc">设置模型面的边框高亮颜色</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00295">SGModel.cs:295</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_ae14a7b14c2844a4343b9821f86fd0704"><div class="ttname"><a href="class_s_g_model.html#ae14a7b14c2844a4343b9821f86fd0704">SGModel.sguGetEdgeRegionMarkB</a></div><div class="ttdeci">static int sguGetEdgeRegionMarkB(IntPtr objPtr, int edge_id)</div></div>
<div class="ttc" id="aclass_s_g_model_html_ae3594eb1fd1a4ea675f4d5af3b5d5048"><div class="ttname"><a href="class_s_g_model.html#ae3594eb1fd1a4ea675f4d5af3b5d5048">SGModel.SetAreasUnSelectable</a></div><div class="ttdeci">void SetAreasUnSelectable()</div><div class="ttdoc">设置模型面不可被选取</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00340">SGModel.cs:340</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_ae9612d0d47516172c6b5eb998de60e7b"><div class="ttname"><a href="class_s_g_model.html#ae9612d0d47516172c6b5eb998de60e7b">SGModel.sg_height</a></div><div class="ttdeci">int sg_height</div><div class="ttdoc">模型实体高度</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00072">SGModel.cs:72</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_aeb9e6d8641bb3847b30b56a77597a8e7"><div class="ttname"><a href="class_s_g_model.html#aeb9e6d8641bb3847b30b56a77597a8e7">SGModel.SelectedColor</a></div><div class="ttdeci">static readonly Color SelectedColor</div><div class="ttdoc">模型被选取时的颜色</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00082">SGModel.cs:82</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_aec04b8088e787173ba6624f6e7622c89"><div class="ttname"><a href="class_s_g_model.html#aec04b8088e787173ba6624f6e7622c89">SGModel.SetModelInteractable</a></div><div class="ttdeci">void SetModelInteractable()</div><div class="ttdoc">设置模型物体可交互</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00365">SGModel.cs:365</a></div></div>
<div class="ttc" id="aclass_s_g_model_html_aecefb0b61a3bedb496f7734df203396b"><div class="ttname"><a href="class_s_g_model.html#aecefb0b61a3bedb496f7734df203396b">SGModel.sgGetObjectVertexes</a></div><div class="ttdeci">static IntPtr sgGetObjectVertexes(IntPtr objPtr)</div></div>
<div class="ttc" id="aclass_s_g_model_html_af3e92ce70e1d2c6fb7e068f86df8636f"><div class="ttname"><a href="class_s_g_model.html#af3e92ce70e1d2c6fb7e068f86df8636f">SGModel.sgGetObjectMatrix</a></div><div class="ttdeci">static IntPtr sgGetObjectMatrix(IntPtr objPtr)</div></div>
<div class="ttc" id="aclass_s_g_model_html_af3facf26d447eec8fca2be6c6e1bfebd"><div class="ttname"><a href="class_s_g_model.html#af3facf26d447eec8fca2be6c6e1bfebd">SGModel.sgGetObjectNormals</a></div><div class="ttdeci">static IntPtr sgGetObjectNormals(IntPtr objPtr)</div></div>
<div class="ttc" id="aclass_s_g_u_edge_html"><div class="ttname"><a href="class_s_g_u_edge.html">SGUEdge</a></div><div class="ttdoc">模型边类</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_u_edge_8cs_source.html#l00009">SGUEdge.cs:10</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1matr_html"><div class="ttname"><a href="struct_s_g_model_1_1matr.html">SGModel.matr</a></div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00065">SGModel.cs:66</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1matr_html_a1cd6c9e1300a4461be2511a3328b573f"><div class="ttname"><a href="struct_s_g_model_1_1matr.html#a1cd6c9e1300a4461be2511a3328b573f">SGModel.matr.m42</a></div><div class="ttdeci">double m42</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00067">SGModel.cs:67</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1matr_html_a3599b57bfc8760d093f2338b6b9a188e"><div class="ttname"><a href="struct_s_g_model_1_1matr.html#a3599b57bfc8760d093f2338b6b9a188e">SGModel.matr.m13</a></div><div class="ttdeci">double m13</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00067">SGModel.cs:67</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1matr_html_a3609cb41af7d9a9e5e29bedf4e7157a0"><div class="ttname"><a href="struct_s_g_model_1_1matr.html#a3609cb41af7d9a9e5e29bedf4e7157a0">SGModel.matr.m33</a></div><div class="ttdeci">double m33</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00067">SGModel.cs:67</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1matr_html_a3c69625b3c9a126f7b906b60e6b56044"><div class="ttname"><a href="struct_s_g_model_1_1matr.html#a3c69625b3c9a126f7b906b60e6b56044">SGModel.matr.m14</a></div><div class="ttdeci">double m14</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00067">SGModel.cs:67</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1matr_html_a6376a7bc131a65833d63487128270c99"><div class="ttname"><a href="struct_s_g_model_1_1matr.html#a6376a7bc131a65833d63487128270c99">SGModel.matr.m44</a></div><div class="ttdeci">double m44</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00067">SGModel.cs:67</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1matr_html_a72f340b99dab79d11ba99250df9645db"><div class="ttname"><a href="struct_s_g_model_1_1matr.html#a72f340b99dab79d11ba99250df9645db">SGModel.matr.m41</a></div><div class="ttdeci">double m41</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00067">SGModel.cs:67</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1matr_html_a7a3e0a2aabd3c3979ffcc4af1d72d6fd"><div class="ttname"><a href="struct_s_g_model_1_1matr.html#a7a3e0a2aabd3c3979ffcc4af1d72d6fd">SGModel.matr.m43</a></div><div class="ttdeci">double m43</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00067">SGModel.cs:67</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1matr_html_a8b3a7bf83a87bd9f33f78e8731d77999"><div class="ttname"><a href="struct_s_g_model_1_1matr.html#a8b3a7bf83a87bd9f33f78e8731d77999">SGModel.matr.m22</a></div><div class="ttdeci">double m22</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00067">SGModel.cs:67</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1matr_html_a8b9780d2c7cb62b7ec2b3a1acfb707bc"><div class="ttname"><a href="struct_s_g_model_1_1matr.html#a8b9780d2c7cb62b7ec2b3a1acfb707bc">SGModel.matr.m21</a></div><div class="ttdeci">double m21</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00067">SGModel.cs:67</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1matr_html_a9305c4f9cd048190f9aaf884e47e9ac4"><div class="ttname"><a href="struct_s_g_model_1_1matr.html#a9305c4f9cd048190f9aaf884e47e9ac4">SGModel.matr.m12</a></div><div class="ttdeci">double m12</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00067">SGModel.cs:67</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1matr_html_ab280c10e55d268cedc13d1787ae7d619"><div class="ttname"><a href="struct_s_g_model_1_1matr.html#ab280c10e55d268cedc13d1787ae7d619">SGModel.matr.m31</a></div><div class="ttdeci">double m31</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00067">SGModel.cs:67</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1matr_html_ac538c33596d9542af7813bfe2c590279"><div class="ttname"><a href="struct_s_g_model_1_1matr.html#ac538c33596d9542af7813bfe2c590279">SGModel.matr.m11</a></div><div class="ttdeci">double m11</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00067">SGModel.cs:67</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1matr_html_ace5ae44f426004933786ba2921ad0db2"><div class="ttname"><a href="struct_s_g_model_1_1matr.html#ace5ae44f426004933786ba2921ad0db2">SGModel.matr.m32</a></div><div class="ttdeci">double m32</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00067">SGModel.cs:67</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1matr_html_ad8b3e0a4ba121cd2fc42a6fa21b7d47d"><div class="ttname"><a href="struct_s_g_model_1_1matr.html#ad8b3e0a4ba121cd2fc42a6fa21b7d47d">SGModel.matr.m24</a></div><div class="ttdeci">double m24</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00067">SGModel.cs:67</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1matr_html_af1222c3ad50f4e55d4be61eeb7a072c7"><div class="ttname"><a href="struct_s_g_model_1_1matr.html#af1222c3ad50f4e55d4be61eeb7a072c7">SGModel.matr.m23</a></div><div class="ttdeci">double m23</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00067">SGModel.cs:67</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1matr_html_af931f734fafe3ad438a3eb3f0288659a"><div class="ttname"><a href="struct_s_g_model_1_1matr.html#af931f734fafe3ad438a3eb3f0288659a">SGModel.matr.m34</a></div><div class="ttdeci">double m34</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00067">SGModel.cs:67</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1vec1d_html"><div class="ttname"><a href="struct_s_g_model_1_1vec1d.html">SGModel.vec1d</a></div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00060">SGModel.cs:61</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1vec1d_html_ae53c511ef8f895d46d04cc8855ea2d26"><div class="ttname"><a href="struct_s_g_model_1_1vec1d.html#ae53c511ef8f895d46d04cc8855ea2d26">SGModel.vec1d.x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00062">SGModel.cs:62</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1vec2d_html"><div class="ttname"><a href="struct_s_g_model_1_1vec2d.html">SGModel.vec2d</a></div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00054">SGModel.cs:55</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1vec2d_html_a2e58a01471acbf802e93ff848d259822"><div class="ttname"><a href="struct_s_g_model_1_1vec2d.html#a2e58a01471acbf802e93ff848d259822">SGModel.vec2d.x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00056">SGModel.cs:56</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1vec2d_html_ae3a6be9c6e1e9cc1f8fd282a9bd95445"><div class="ttname"><a href="struct_s_g_model_1_1vec2d.html#ae3a6be9c6e1e9cc1f8fd282a9bd95445">SGModel.vec2d.y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00057">SGModel.cs:57</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1vec2i_html"><div class="ttname"><a href="struct_s_g_model_1_1vec2i.html">SGModel.vec2i</a></div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00041">SGModel.cs:42</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1vec2i_html_a0390d10608b805356aa4468efe53cb3b"><div class="ttname"><a href="struct_s_g_model_1_1vec2i.html#a0390d10608b805356aa4468efe53cb3b">SGModel.vec2i.y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00044">SGModel.cs:44</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1vec2i_html_abd5df4792176e45d7b66838b655ad914"><div class="ttname"><a href="struct_s_g_model_1_1vec2i.html#abd5df4792176e45d7b66838b655ad914">SGModel.vec2i.x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00043">SGModel.cs:43</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1vec3d_html"><div class="ttname"><a href="struct_s_g_model_1_1vec3d.html">SGModel.vec3d</a></div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00047">SGModel.cs:48</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1vec3d_html_a0b8c550ce99efedcbe10df01e97d3962"><div class="ttname"><a href="struct_s_g_model_1_1vec3d.html#a0b8c550ce99efedcbe10df01e97d3962">SGModel.vec3d.z</a></div><div class="ttdeci">double z</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00051">SGModel.cs:51</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1vec3d_html_a6c09077bd4936ca71ad02b33d8903edf"><div class="ttname"><a href="struct_s_g_model_1_1vec3d.html#a6c09077bd4936ca71ad02b33d8903edf">SGModel.vec3d.x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00049">SGModel.cs:49</a></div></div>
<div class="ttc" id="astruct_s_g_model_1_1vec3d_html_ab7db77939c9847df8752718938eb23f7"><div class="ttname"><a href="struct_s_g_model_1_1vec3d.html#ab7db77939c9847df8752718938eb23f7">SGModel.vec3d.y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="_s_g_model_8cs_source.html#l00050">SGModel.cs:50</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
